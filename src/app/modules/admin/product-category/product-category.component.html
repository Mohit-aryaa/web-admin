<div class="flex flex-col flex-auto min-w-0">

    <!-- Main -->
    <div class="flex-auto p-6 sm:p-10">
       <div>
        <button (click)="openModal()"  mat-flat-button color="primary" class="mb-3"  >Add</button>
       </div>
        <!-- CONTENT GOES HERE -->
        <table mat-table [dataSource]="dataSource" style="width: 100%;">

            <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->

            <!-- Name Column -->
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Name</th>
                <td mat-cell *matCellDef="let element"> {{element.categoryName}}</td>
            </ng-container>

            <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef> Description</th>
                <td mat-cell *matCellDef="let element"> {{element.categoryDescription}}</td>
            </ng-container>

           
            <!-- Action Column -->
            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef class="text-right"> Action </th>
                <td mat-cell *matCellDef="let element; let i = index " class="text-right">
                  <button mat-icon-button (click)="openUpdateModal(element, i)">
                      <mat-icon>edit</mat-icon>
                  </button>
                    <button mat-icon-button color="warn"  (click)="deleteCategory(element,i)"> 
                        <mat-icon>delete</mat-icon>
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <mat-paginator #paginator [pageIndex]="0" [pageSize]="10" [pageSizeOptions]="[5, 10, 20]" aria-label="Select page">
        </mat-paginator>  

    </div>

    <!-- Button trigger modal -->

  
  <!-- Modal -->
  <ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">{{selectedProductCategory ? 'Update' : 'Add'}} Data</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
        <form class="px-4" [formGroup]="addProductCategoryForm">
            <div class="form-group mb-3" >
              <label for=""  class="mb-1"> Name</label>
              <input type="text" class="form-control" id="name"  name="name" [formControlName]="'categoryName'">
            </div>

            <div class="form-group mb-3" >
                <label for=""  class="mb-1"> SubCategory</label>
                <input type="text" class="form-control" id="name"  name="name" [formControlName]="'categoryDescription'">
            </div>
            
            <div class="form-group mb-3">
                <button type="submit" class="btn btn-primary "  (click)="postData()">{{selectedProductCategory ? 'Update' : 'Add'}}</button>
            </div>         
            
        </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Close</button>
    </div>
  </ng-template>
    

</div>

